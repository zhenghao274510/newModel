(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-singleAir-singleAir"],{"69fd":function(e,t,i){"use strict";var a=i("8ad5"),n=i.n(a);n.a},8842:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-page-body[data-v-22fe1ee2]{width:100%;height:100%;background:#f9f9f9;position:relative}.van-popup[data-v-22fe1ee2]{background:none!important}.contain[data-v-22fe1ee2]{width:100%;height:100%}.top[data-v-22fe1ee2]{width:100%;height:%?380?%;background-image:-webkit-linear-gradient(top,#e02b11,#f75f33);position:fixed;top:0;left:0;z-index:99;padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.title[data-v-22fe1ee2]{width:100%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:15px;color:#fff;position:relative}.title>img[data-v-22fe1ee2]{width:%?40?%;margin:0 %?20?%}.back[data-v-22fe1ee2]{position:absolute;left:0}.choice[data-v-22fe1ee2]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;padding-top:%?20?%}.wrapper[data-v-22fe1ee2]{width:85%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.list[data-v-22fe1ee2]{height:%?106?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:12px;color:#fff;padding:%?20?% 0}.current[data-v-22fe1ee2]{width:100%;height:%?40?%;text-align:center;font-size:14px;color:#fff}.Choice[data-v-22fe1ee2]{background:#e53719}.walkDate[data-v-22fe1ee2]{width:15%;position:fixed;right:0;top:%?140?%;height:%?106?%;border-left:1px solid #fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 %?24?%;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:12px;color:#fff;text-align:center}.walkDate>img[data-v-22fe1ee2]{width:%?40?%;height:%?40?%}.result[data-v-22fe1ee2]{width:100%;position:absolute;top:%?290?%;bottom:%?200?%;left:0;right:0;z-index:2000;padding:0 %?30?%;-webkit-box-sizing:border-box;box-sizing:border-box}.airs-box[data-v-22fe1ee2]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.result-list[data-v-22fe1ee2]{width:100%;background:#fff;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:%?20?%;-webkit-box-sizing:border-box;box-sizing:border-box}.line[data-v-22fe1ee2]{width:100%;height:%?30?%;background:#f9f9f9}.result-top[data-v-22fe1ee2]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.location[data-v-22fe1ee2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.location-air[data-v-22fe1ee2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:18px;color:#333}.location-air>img[data-v-22fe1ee2]{width:%?120?%;margin:0 %?16?%}.location-name[data-v-22fe1ee2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:14px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:%?16?%}.money[data-v-22fe1ee2]{font-size:18px;color:red}.location-explain[data-v-22fe1ee2]{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:12px;color:#999;margin-top:%?20?%}.location-explain>img[data-v-22fe1ee2]{width:%?36?%}.location-explain>uni-view[data-v-22fe1ee2]{margin-left:%?12?%}.prices[data-v-22fe1ee2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;font-size:12px;color:#999}.bottom[data-v-22fe1ee2]{width:100%;height:%?100?%;-webkit-box-shadow:0 1px 4px #bbb;box-shadow:0 1px 4px #bbb;position:fixed;left:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;font-size:12px;color:#999;background:#fff}.nav[data-v-22fe1ee2]{height:%?100?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:12px}.nav>img[data-v-22fe1ee2]{width:%?40?%;height:%?40?%;margin-bottom:%?8?%}.font[data-v-22fe1ee2]{color:#e53719}.kong[data-v-22fe1ee2]{width:100%;height:100%;position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}body.?%PAGE?%[data-v-22fe1ee2]{background:#f9f9f9}",""])},"8ad5":function(e,t,i){var a=i("8842");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("5652b365",a,!0,{sourceMap:!1,shadowMode:!1})},9637:function(e,t,i){"use strict";i.r(t);var a=i("9991"),n=i("fa59");for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);i("69fd");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"22fe1ee2",null);t["default"]=r.exports},9991:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"contain"},[a("v-uni-view",{staticClass:"top"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-text",{staticClass:"cuIcon-back back",on:{click:function(t){t=e.$handleEvent(t),e.back(t)}}}),a("v-uni-view",[e._v(e._s(e.city1))]),a("img",{attrs:{src:i("5945"),alt:""}}),a("v-uni-view",[e._v(e._s(e.city2))])],1),a("v-uni-view",{staticClass:"current"},[e._v(e._s(e.date1)+" "+e._s(e.day1))]),a("v-uni-view",{staticStyle:{width:"100%",position:"relative"}},[a("v-uni-scroll-view",{staticClass:"wrapper",attrs:{"scroll-x":"","scroll-with-animation":"","scroll-left":e.slideLeft}},[a("v-uni-view",{staticClass:"choice"},e._l(e.swiperData.dateDay,function(t,i){return a("v-uni-view",{key:i,staticClass:"list",class:1==t.disable?"disable":1==t.Choice?"Choice":"",attrs:{id:"main-"+i},on:{click:function(t){t=e.$handleEvent(t),e.changeDay(i)}}},[a("v-uni-view",[e._v(e._s(t.week))]),a("v-uni-view",{staticStyle:{margin:"4upx 0","font-size":"14px",width:"100upx","text-align":"center"}},[e._v(e._s(t.day))])],1)}),1)],1),a("v-uni-view",{staticClass:"walkDate",on:{click:function(t){t=e.$handleEvent(t),e.choiceWalk(t)}}},[a("v-uni-text",[e._v("出行日历")]),a("img",{attrs:{src:i("9541"),alt:""}})],1)],1)],1),a("v-uni-view",{staticClass:"result"},[a("v-uni-scroll-view",{staticClass:"airs",staticStyle:{height:"100%"},attrs:{"scroll-y":"","scroll-with-animation":""}},e._l(e.listData,function(t,n){return a("v-uni-view",{key:n,staticClass:"airs-box",on:{click:function(t){t=e.$handleEvent(t),e.goDetail(n)}}},[a("v-uni-view",{staticClass:"result-list"},[a("v-uni-view",{staticClass:"result-top"},[a("v-uni-view",{staticClass:"location"},[a("v-uni-view",{staticClass:"location-air"},[a("v-uni-view",[e._v(e._s(t.DepartTime))]),a("img",{attrs:{src:i("8674"),alt:""}}),a("v-uni-view",[e._v(e._s(t.ArriveTime))])],1),a("v-uni-view",{staticClass:"location-name"},[a("v-uni-view",[e._v(e._s(t.DepartAirportName.indexOf("国")>-1?t.DepartAirportName.substr(0,t.DepartAirportName.indexOf("国")):t.DepartAirportName)+e._s(t.DepartAirportTerminal))]),a("v-uni-view",[e._v(e._s(t.ArriveAirportName.indexOf("国")>-1?t.ArriveAirportName.substr(0,t.ArriveAirportName.indexOf("国")):t.ArriveAirportName)+e._s(t.ArriveAirportTerminal))])],1)],1),a("v-uni-view",{staticClass:"prices"},[a("v-uni-view",{staticClass:"money"},[e._v("￥"+e._s(t.Cabins[0].Fare))]),a("v-uni-view",[e._v("婴儿￥"+e._s(t.Cabins[0].BabyFare))])],1)],1),a("v-uni-view",{staticClass:"location-explain"},[a("img",{attrs:{src:i("6613"),alt:""}}),a("v-uni-view",[e._v(e._s(t.AirCompanyName)+e._s(t.FlightNo)+" | "+e._s(t.PlaneType))])],1)],1),a("v-uni-view",{staticClass:"line"})],1)}),1)],1),a("v-uni-view",{staticClass:"bottom"},[a("v-uni-view",{staticClass:"nav",on:{click:function(t){t=e.$handleEvent(t),e.changeNav(1)}}},[1==e.item1?a("img",{attrs:{src:i("bed2")}}):e._e(),1!=e.item1?a("img",{attrs:{src:i("1aa8")}}):e._e(),a("v-uni-view",{class:1==e.item1?"font":""},[e._v("时间早-晚")])],1),a("v-uni-view",{staticClass:"nav",on:{click:function(t){t=e.$handleEvent(t),e.changeNav(0)}}},[0==e.item1?a("img",{attrs:{src:i("df52")}}):e._e(),0!=e.item1?a("img",{attrs:{src:i("c838")}}):e._e(),a("v-uni-view",{class:0==e.item1?"font":""},[e._v("价格低-高")])],1)],1),a("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-loading",{attrs:{type:"spinner"}})],1),e.showAir?a("v-uni-view",{staticClass:"kong"},[a("img",{attrs:{src:i("0942"),alt:""}})]):e._e()],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},cb44:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("f8c3"),n=i("3439"),s={data:function(){return{Color:"#333333",value:"",backColor:"#E73C1D",city1:"",city2:"",day:"",price:{type:!0,data:[]},storageDate:[],swiperData:{},slideLeft:0,isDoRefresh:!1,item1:1,sendDate:"",singleStar:"",singleEnd:"",checked1:!1,listData:[],show:!1,showAir:!1}},computed:{date:function(){var e=new Date,t="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate());return t},date1:function(){return this.$store.state.date},day1:function(){return this.$store.state.day},initDate:function(){return this.$store.state.initDate}},components:{Toast:n.Toast},onLoad:function(e){if(this.getRequest("uid")){var t=this.getRequest("uid");this.$store.commit("changeUid",t)}this.singleStart=this.$store.state.startCity,this.singleEnd=this.$store.state.endCity;var i=this.$store.state.city1,a=this.$store.state.city2;this.city1=i,this.city2=a,this.init()},onShow:function(e){if(this.initDate){var t=new Date(this.initDate).getDay();t=this.getDays(t);var i=this.initDate.split("-");i[1]=parseInt(i[1])>9?i[1]:"0"+parseInt(i[1]),i[2]=parseInt(i[2])>9?i[2]:"0"+parseInt(i[2]),this.sendDate=i[0]+"/"+i[1]+"/"+i[2]+" "+t,""!=this.initDate&&3==i.length&&(this.Preprocessing(i),this.init())}else{var a=this.$store.state.priceDate.split("-"),n=new Date(this.$store.state.priceDate).getDay();n=this.getDays(n),a[1]=parseInt(a[1])>9?a[1]:"0"+parseInt(a[1]),a[2]=parseInt(a[2])>9?a[2]:"0"+parseInt(a[2]),this.sendDate=a[0]+"/"+a[1]+"/"+a[2]+" "+n,""!=this.$store.state.priceDate&&3==a.length&&this.Preprocessing(a)}},methods:{getRequest:function(e){for(var t=window.location.search.substring(1),i=t.split("&"),a=0;a<i.length;a++){var n=i[a].split("=");if(n[0]==e)return n[1]}return!1},init:function(){var e=this;this.show=!0;var t={DepartCityCode:this.singleStart,ArriveCityCode:this.singleEnd,IsChild:this.$store.state.checked,DepartDate:this.$store.state.singleStart},i={url:"/api/gzh/flightQuery",data:t,success:function(t){e.listData=[],0==t.data.result?(e.show=!1,e.listData=t.data.Data):(e.show=!1,e.showAir=!0)},fail:function(e){console.log(e)}};(0,a.ajax)(i)},changeNav:function(e){this.item1!==e&&(this.item1=e),0==e&&this.listData.sort(this.CompareDate1),1==e&&this.listData.sort(this.CompareDate)},CompareDate:function(e,t){var i=new Date,a=e.DepartTime.split(":"),n=t.DepartTime.split(":");return i.setHours(a[0],a[1])-i.setHours(n[0],n[1])},CompareDate1:function(e,t){var i=e.Cabins[0].Fare,a=t.Cabins[0].Fare;return parseInt(i)-parseInt(a)},goDetail:function(e){uni.navigateTo({url:"../singleAirDetail/singleAirDetail?date="+this.sendDate+"&index="+e+"&list="+JSON.stringify(this.listData)})},back:function(){this.$store.commit("changeInit",""),uni.navigateBack({delta:1})},dateFtt:function(e,t){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e},getDays:function(e){switch(e){case 0:e="周日";break;case 1:e="周一";break;case 2:e="周二";break;case 3:e="周三";break;case 4:e="周四";break;case 5:e="周五";break;case 6:e="周六"}return e},judgeDate:function(e){return"object"!==typeof e&&(e=e.replace(/-/g,"/")),e},getDay:function(e){var t=this;e=this.judgeDate(e);var i=new Date(e),a=i.getFullYear(),n=i.getMonth()+1;i.getDate(),i.getDay();return new Promise(function(e,i){for(var s=[],o=(new Date(a,n-1,0).getDate(),1);o<=new Date(a,n,0).getDate();o++){var r="".concat(a,"-").concat(n,"-").concat(o);r=t.judgeDate(r),r=t.getDays(new Date(r).getDay()),n=parseInt(n)<=9?"0"+parseInt(n):parseInt(n),o=o<=9?"0"+o:o,s.push({day:"".concat(n,"-").concat(o),date:o,Choice:!1,week:r,price:t.price.data[o-1],priceType:t.price.type,disable:!1})}e({dateDay:s,year:a,month:n})})},Preprocessing:function(e){var t=this,i={},a=new Date("".concat(e[0],"-").concat(e[1],"-").concat(e[2])),n=a.getFullYear(),s=a.getMonth()+1;this.getDay("".concat(e[0],"-").concat(e[1],"-").concat(e[2])).then(function(a){i=a,e[1]=parseInt(e[1])>9?parseInt(e[1]):"0"+parseInt(e[1]),e[2]=parseInt(e[2])>9?parseInt(e[2]):"0"+parseInt(e[2]);var o=e[1]+"-"+e[2];t.$set(t,"swiperData",i);var r=new Date,l="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate());l=l.split("-"),console.log(l),t.swiperData.dateDay=t.swiperData.dateDay.map(function(e,t){return l[0]>n?e.disable=!0:l[1]>s&&l[0]>=n?e.disable=!0:l[0]>=n&&l[2]>parseInt(e.date)&&l[1]>=parseInt(s)&&(e.disable=!0),e});for(var c=0;c<t.swiperData.dateDay.length;c++)o==t.swiperData.dateDay[c].day&&(t.swiperData.dateDay[c].Choice=!0,t.slideLeft=50*c);console.log(t.swiperData)})},changeDay:function(e){console.log(this.swiperData),this.swiperData.dateDay[e].disable||(this.swiperData.dateDay.forEach(function(e,t){e.Choice=!1}),this.swiperData.dateDay[e].Choice=!0,this.sendDate=this.swiperData.year+"/"+this.swiperData.month+"/"+this.swiperData.dateDay[e].date+" "+this.swiperData.dateDay[e].week,this.$store.commit("changeSingleStart",this.swiperData.year+"/"+this.swiperData.month+"/"+this.swiperData.dateDay[e].date),this.$store.commit("changeDate",this.swiperData.month+"-"+this.swiperData.dateDay[e].date),this.$store.commit("changeInit",this.swiperData.year+"-"+this.swiperData.month+"-"+this.swiperData.dateDay[e].date),this.$store.commit("changePrice",this.swiperData.year+"-"+this.swiperData.month+"-"+this.swiperData.dateDay[e].date),this.$store.commit("changeDay",this.swiperData.dateDay[e].week),this.init())},choiceWalk:function(){this.$store.commit("changeInit",""),uni.navigateTo({url:"../selectTime/selectTime?type=3"})}}};t.default=s},fa59:function(e,t,i){"use strict";i.r(t);var a=i("cb44"),n=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);t["default"]=n.a}}]);